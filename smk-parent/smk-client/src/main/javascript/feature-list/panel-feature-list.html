<side-panel class="smk-feature-list-panel" v-bind:class="{ 'smk-busy': busy }">
    <template slot="header">
        <div class="smk-spinner"></div>

        <slot name="header"></slot>
    </template>

    <template slot="commands">
        <span class="smk-command"
            v-bind:class="{ 'smk-disabled': isEmpty }"
            v-on:click="$$emit( 'clear' )"
        >Clear</span>

        <slot name="commands" v-bind:isEmpty="isEmpty"></slot>
    </template>

    <div v-if="isEmpty" class="smk-placeholder">
        <slot name="placeholder"></slot>
    </div>

    <div class="smk-layer"
        v-for="layer in layers"
        v-if="layer && layer.features.length > 0"
        v-on:mouseenter="$$emit( 'hover', { features: layer.features } )"
        v-on:mouseleave="$$emit( 'hover', { features: null } )"
    >
        <h2>{{ layer.title }}</h2>
        <div class="smk-feature smk-command" title="Click to see attributes"
            v-for="feature in layer.features"
            v-bind:class="{ 'smk-highlighted': feature.id == highlightId }"
            v-on:click="$$emit( 'active', { featureId: feature.id } )"
        >
            <span >{{ feature.title }}</span>

            <i class="smk-highlight material-icons"
            >speaker_notes</i>

            <i class="smk-remove material-icons"
                v-if="canRemove"
                v-on:click.stop="$$emit( 'remove', { layerId: layer.id, featureId: feature.id } )"
            >delete</i>
        </div>
        <!-- <a class="smk-layer-metadata" target="_metadata"
            v-if="layer.metadataUrl"
            v-bind:href="layer.metadataUrl"
        >Layer information</a> -->
    </div>
</side-panel>